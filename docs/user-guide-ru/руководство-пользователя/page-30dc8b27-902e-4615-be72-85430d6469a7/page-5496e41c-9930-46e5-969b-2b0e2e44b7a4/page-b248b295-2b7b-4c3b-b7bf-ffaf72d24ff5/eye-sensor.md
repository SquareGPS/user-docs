# Настройка Eye sensor

# Настройка Eye sensor

В качестве еще одного примера использования виртуальных датчиков мы хотели бы представить вам [Teltonika Eye sensor](https://teltonika-gps.com/products/accessories/sensors-beacons/eye) которые способны регистрировать такие ценные данные, как температура, влажность, движение и состояние магнита. В частности, информация о состоянии движения ранее была недоступна, но теперь ее можно получить с помощью виртуальных датчиков. Если вам интересно узнать больше об этих датчиках и о том, как настроить их для получения важных данных, мы с радостью предоставим вам подробные инструкции.

## Настройка датчиков на устройстве

Чтобы настроить передачу данных от датчика к платформе, мы рекомендуем использовать параметр [Конфигуратор Teltonika](https://wiki.teltonika-gps.com/view/Teltonika_Configurator_Introduction). Обязательно [скачать версию](https://wiki.teltonika-gps.com/view/Teltonika_Configurator_versions) который соответствует текущей прошивке и модели устройства. После загрузки и запуска конфигуратора перейдите к системным настройкам и выберите протокол передачи данных Codec 8 Extended.

[![Enabling Codec 8 Extended in the Teltonika configurator.](https://www.navixy.com/wp-content/uploads/2023/03/1-4.png)

](https://www.navixy.com/wp-content/uploads/2023/03/1-4.png)

Включение расширенного кодека 8 в конфигураторе Teltonika.

В разделе Bluetooth 4.0 мы рекомендуем отключить функцию безостановочного сканирования и установить для параметров "Частота обновления" и "Длительность сканирования" значение "Каждые 30 секунд". Настроив эти параметры, вы добьетесь оптимальных результатов при сканировании BLE, обеспечив надежный и точный сбор данных.

[![Scan frequency for BLE sensors.](https://www.navixy.com/wp-content/uploads/2023/03/2-4.png)

](https://www.navixy.com/wp-content/uploads/2023/03/2-4.png)

Частота сканирования для датчиков BLE.

Затем выберите Подключение # и установите режим работы на Расширенный. Это откроет доступ к подробным настройкам датчика. Найдите кнопки, расположенные в правом верхнем углу, и выберите список предустановок. Это позволит вам упростить процесс настройки датчика.

[![Setting the Advanced mode for the sensor and the location of the Preset list button.](https://www.navixy.com/wp-content/uploads/2023/03/3-2.png)

](https://www.navixy.com/wp-content/uploads/2023/03/3-2.png)

Настройка расширенного режима для датчика и расположение кнопки списка предустановок.

После нажатия кнопки "Список предустановок" откроется новое окно с выбором доступных датчиков. Просто выберите тот, который вы используете в данный момент, например EYE SENSOR. Эта таблица автоматически настроит все необходимые параметры. После этого перейдите на вкладку I/O, чтобы настроить передачу данных с этих датчиков в пакетах вашего устройства.

Чтобы настроить передачу данных с этих датчиков в пакетах устройства, перейдите на вкладку I/O. Здесь вам нужно будет установить соответствующие параметры для нужных вам настроек. Например, если номер подключения датчика - 1, настройте параметры под тем же номером. В большинстве случаев для параметров, которые необходимо отслеживать на платформе, лучше всего установить приоритет Low. Также важно убедиться, что все остальные настройки оставлены на значениях по умолчанию, если только вы не изменили их ранее. В таких случаях рекомендуются следующие настройки:

- Приоритет = Низкий
- Низкий уровень = 0
- Высокий уровень = 0
- Только мероприятие = Нет
- Операнд = Мониторинг

[![Setting up the sending of sensor data in device packets.](https://www.navixy.com/wp-content/uploads/2023/03/4-2.png)

](https://www.navixy.com/wp-content/uploads/2023/03/4-2.png)

Настройка отправки данных датчика в пакетах устройства.

## Конфигурация на платформе

### Датчик состояния движения

Показания этого датчика полностью настраиваются с помощью виртуальных датчиков с метод расчета индекса битов. Данные о состоянии движения поступают в бит 16 поля BLE 1 Custom 1. Для настройки состояния движения необходимо выполнить следующие действия:

1. Создайте виртуальный датчик и укажите его имя.
2. Выберите [соответствующий идентификатор AVL](https://wiki.teltonika-mobility.com/view/Full_AVL_ID_List#BLE_Sensor_I.2FO_elements) в качестве входного сигнала. Например, для BLE 1 Custom 1 используйте число 331.
3. Определите номер бита, который соответствует данным о состоянии движения. В данном случае должен быть выбран бит 16 поля BLE 1 Custom 1.
4. При необходимости определите названия состояний. Например, можно использовать "Стояние" и "Движение".
5. Укажите соответствующие значения, где 0 означает отсутствие движения, а 1 - движение, зарегистрированное датчиком.

[![Setting up the Virtual Sensor to read the Eye sensor's motion status.](https://www.navixy.com/wp-content/uploads/2023/03/5-2.png)

](https://www.navixy.com/wp-content/uploads/2023/03/5-2.png)

Настройка виртуального датчика для считывания состояния движения датчика Eye.

На этом этапе вы успешно извлекли текущее состояние движения. Однако помните, что информация может быть получена в отчетах и правилах только в том случае, если состояние движения установлено как зажигание.

Получение отчетов и правил для виртуальных датчиков без зажигания в данный момент не поддерживается.

### Датчики температуры и влажности

Настройка этих датчиков аналогична настройке стандартных [измерительные датчики](../../page-7c9aa333-6f10-4e24-b5db-776340b77133/page-9e4d2d47-c1cb-466f-ab13-1e5ea1fa9b09.md). Давайте рассмотрим пример настройки каждого из этих датчиков:

Влажность передается прибором в %.

- Укажите желаемое имя датчика.
- Выберите соответствующий вход BLE: Влажность \[N\] и укажите его номер.
- Выберите тип датчика Пользовательский.
- Укажите единицу измерения в %.
- Другие настройки не требуются.

[![Setting up the BLE humidity sensor.](https://www.navixy.com/wp-content/uploads/2023/03/6-4.png)

](https://www.navixy.com/wp-content/uploads/2023/03/6-4.png)

Настройка BLE-датчика влажности.

Температура передается устройством в °C.

- Укажите желаемое имя датчика.
- Выберите соответствующий вход BLE: Температура \[N\] и укажите его номер.
- Выберите тип датчика Температура.
- Укажите единицу измерения в °C.
- Другие настройки не требуются.

[![Setting up the BLE temperature sensor.](https://www.navixy.com/wp-content/uploads/2023/03/7-2.png)

](https://www.navixy.com/wp-content/uploads/2023/03/7-2.png)

Настройка датчика температуры BLE.

На основе показаний датчиков можно создать отчет "Измерение датчиков", в котором содержатся полезные сведения о данных, собранных датчиком. Кроме того, вы можете отслеживать показания, настраивая оповещения с помощью правила "Параметр в диапазоне", которое позволяет получать уведомления, когда определенные параметры выходят за пределы заданных диапазонов.

Кроме того, можно создать виртуальные датчики и дать им понятные имена для получения значений датчиков в виджетах. Чтобы добиться этого, используйте [метод расчета "Значение в диапазоне](../../../../page-2d35fc97-7f17-4592-b075-ebea04629e7d/page-b0e4e0ec-cba2-4e43-925f-ae617f626510/page-82bc7850-49e8-4ead-8f5c-ab6d0230f3c2/page-e7a57616-4d6e-46e7-86c6-2f5e0496b819.md). Это позволит вам настроить отображаемые данные датчика и упростить интерпретацию информации, получаемой от датчика.

### Магнитный датчик состояния

Настройка датчиков состояния магнитов - простой и понятный процесс. Фактически, не требуется никакой дополнительной настройки, кроме подключения датчиков к платформе. Данные о состоянии магнита передаются на платформу в виде полей состояния и отображаются сразу же после получения от подключенного устройства.

Использование виртуальных датчиков с [Метод расчета оригинального значения](../page-e09bc2f2-98ce-47bd-9c65-c440100358f3.md). Вы можете настроить отображение значений полей состояния как "открыто" или "закрыто" и дать им легко узнаваемые имена.

Настроив правило "Значение поля состояния", вы сможете отслеживать поля состояния и получать оповещения при наступлении определенных событий.

[![Example of setting the magnet state sensor with its values and name.](https://www.navixy.com/wp-content/uploads/2023/03/8-2.png)

](https://www.navixy.com/wp-content/uploads/2023/03/8-2.png)

Пример установки датчика состояния магнита с указанием его значений и названия.

Вы успешно получили информацию с датчика Eye, и теперь она у вас под рукой. Теперь вы можете легко отслеживать эти ценные данные.